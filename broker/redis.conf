# redis.conf
# Configuração personalizada para o projeto de espectrograma

# Permite conexões de qualquer interface de rede (crucial para conexões externas)
bind 0.0.0.0

# Desativa o modo protegido para permitir conexões remotas
protected-mode no

# Porta padrão do Redis
port 6379

# Não executar como daemon (necessário para Docker)
daemonize no

# Nível de log (notice, verbose, debug)
loglevel notice

# Arquivo de log (vazio para imprimir no stdout)
logfile ""

# Número de bancos de dados
databases 16

# Persistência: salvar a cada 60 segundos se houver 10000 mudanças
save 60 10000

# Habilita AOF (Append Only File) para persistência
appendonly yes

# Nome do arquivo AOF
appendfilename "appendonly.aof"

# Política de persistência AOF (everysec é um bom equilíbrio)
appendfsync everysec

# Diretório para dados persistentes (mapeado via volume no Docker)
dir /data